# Клиентские сценарии

Ниже описаны сценарии работы с системой с точки зрения клиента (в дальнейшем они
будут реализованы в сервисе API Gateway)

### 1. Регистрация пользователя

- Клиент передаёт данные пользователя (e-mail, пароль) user-service.
- В случае успешной регистрации user-service высылает id пользователя

### 2. Аутентификация пользователя

- Клиент передаёт e-mail и пароль пользователя user-service
- В случае успешной аутентификации user-service высылает id пользователя

### 3. Создание и публикация рецепта

- Клиент формирует список необходимых ингредиентов и их количества 
(данные об ингредиентах клиент получает с помощью запроса на ingredients-service)
- Клиент формирует пошаговое описание рецепта
- Клиент отправляет данные по рецепту recipe-service
- В случае успешного создания рецепта recipe-service высылает 
id записанного рецепта.
- recipe-service высылает данные по добавленному рецепту nutrition-service
- nutrition-service рассчитывает пищевую ценность для рецепта 
(с помощью запросов к ingredients-service)

### 4. Редактирование рецепта

- Клиент получает данные о рецепте от recipe-service
- Клиент изменяет необходимые данные о рецепте
- Клиент отправляет измененный рецепт recipe-service
- в случае изменения в ингредиентах, recipe-service высылает данные по обновленному рецепту nutrition-service
- nutrition-service перерассчитывает пищевую ценность для рецепта
  (с помощью запросов к ingredients-service)

### 5. Получение рецептов

- Клиент выполняет запрос на recipe-service
- recipe-service высылает данные по рецептам

### 6. Поиск рецептов по списку ингредиентов

- Клиент формирует список ингредиентов для поиска (с помощью обращения к ingredients-service)
- Клиент выполняет запрос к recipe-service
- recipe-service высылает данные по найденным рецептам

